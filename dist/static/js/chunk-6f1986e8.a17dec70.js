(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6f1986e8"],{"507a":function(e,r,o){"use strict";var t=o("b8e4");o.n(t).a},a55b:function(e,r,o){"use strict";o.r(r);var t=o("5f87"),a=o("90c5"),s={name:"login",data:function(){return{loading:!1,loginForm:{username:"admin",password:"123456",remember:!1},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},redirect:void 0}},created:function(){if(localStorage.getItem("wbUser")){this.loginForm.remember=!0;var e=JSON.parse(a.a.decrypt(unescape(localStorage.getItem("wbUser"))));this.loginForm.username=e.username,this.loginForm.password=a.a.decrypt(unescape(e.password))}},methods:{handleLogin:function(){var e=this;this.loading=!0,this.$refs.loginForm.validate(function(r){if(!r)return e.loading=!1;var o={username:e.loginForm.username,password:e.$md5(e.loginForm.password),remember:e.loginForm.remember};e.axios.post("mock/login",o).then(function(r){1===r.code?(Object(t.c)(r.data),e.$router.push({path:e.redirect||"/"}),e.loginForm.remember?(o.password=escape(a.a.encrypt(e.loginForm.password)),localStorage.setItem("wbUser",escape(a.a.encrypt(JSON.stringify(o))))):localStorage.removeItem("wbUser")):e.$message({showClose:!0,message:r.msg,type:"error"}),e.loading=!1},function(r){e.$message({showClose:!0,message:"登录失败",type:"error"}),e.loading=!1})})}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}}},n=(o("507a"),o("2877")),i=Object(n.a)(s,function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("el-card",{staticClass:"login-container"},[o("el-form",{ref:"loginForm",attrs:{autoComplete:"on",model:e.loginForm,rules:e.loginRules,"label-position":"left"}},[o("h2",{staticClass:"login-title"},[e._v("系统登录")]),o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号",clearable:""},model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}},[o("i",{staticClass:"fa fa-user fa-lg icon-blue",attrs:{slot:"prefix"},slot:"prefix"})])],1),o("el-form-item",{staticStyle:{"margin-bottom":"15px"},attrs:{prop:"password"}},[o("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleLogin(r)}},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}},[o("i",{staticClass:"fa fa-lock fa-lg icon-blue",attrs:{slot:"prefix"},slot:"prefix"})])],1),o("el-checkbox",{attrs:{"label-position":"left"},model:{value:e.loginForm.remember,callback:function(r){e.$set(e.loginForm,"remember",r)},expression:"loginForm.remember"}},[e._v("记住密码")]),o("el-form-item",{staticStyle:{"margin-top":"15px"}},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{click:function(r){return r.preventDefault(),e.handleLogin(r)}}},[e._v("登录")])],1)],1)],1)},[],!1,null,"644231fe",null);r.default=i.exports},b8e4:function(e,r,o){}}]);