(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a4ffdd7e"],{"7ef5":function(e,t,i){"use strict";var o=i("aef2");i.n(o).a},aef2:function(e,t,i){},e2c1:function(e,t,i){"use strict";i.r(t);var o=i("90c5"),s={props:{isAdd:{type:Boolean,required:!0},deptDict:{type:Array}},data:function(){return{dialogVisible:!1,loading:!1,form:{name:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},methods:{doSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0,e.isAdd?e.doAdd():e.doEdit()})},doAdd:function(){var e=this;this.axios.post("api/test",{form:o.a.encrypt(JSON.stringify(this.form))}).then(function(t){1===t.code&&(e.resetForm(),e.$message({showClose:!0,message:"添加成功",type:"success",duration:2e3}),e.loading=!1,e.$parent.getList())},function(t){e.loading=!1})},doEdit:function(){var e=this;this.axios.put("api/test",this.form).then(function(t){1===t.code&&(e.resetForm(),e.$message({showClose:!0,message:"修改成功",type:"success",duration:2e3}),e.loading=!1,e.$parent.list.splice(e.$parent.index,1,t.data))},function(t){e.loading=!1})},close:function(){this.resetForm()},cancel:function(){this.resetForm()},resetForm:function(){this.dialogVisible=!1,this.form={name:"",dept:{id:"",name:""},level:1,remark:""}}}},a=(i("7ef5"),i("2877")),n=Object(a.a)(s,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.dialogVisible,title:e.isAdd?"新增":"编辑","before-close":e.close,"append-to-body":"",width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"80px"}},[i("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[i("el-input",{staticStyle:{width:"370px"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("取消")]),i("el-button",{attrs:{loading:e.loading,size:"small",type:"primary"},on:{click:e.doSubmit}},[e._v("确认")])],1)],1)},[],!1,null,"4a853291",null);t.default=n.exports}}]);