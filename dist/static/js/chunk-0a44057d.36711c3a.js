(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0a44057d"],{"1d22":function(e,t,o){"use strict";var i=o("5cd6");o.n(i).a},3260:function(e,t,o){"use strict";o.r(t);var i={props:{isAdd:{type:Boolean,required:!0},deptDict:{type:Array}},data:function(){return{dialogVisible:!1,loading:!1,form:{name:"",dept:{id:"",name:""},level:1,remark:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},methods:{doSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0,e.isAdd?e.doAdd():e.doEdit()})},doAdd:function(){var e=this;this.axios.post("mock/role/save",this.form).then(function(t){1===t.code&&(e.resetForm(),e.$message({showClose:!0,message:"添加成功",type:"success",duration:2e3}),e.loading=!1,e.$parent.allData.unshift(t.data),e.$parent.total=e.$parent.total+1,e.$parent.getList())},function(t){e.loading=!1})},doEdit:function(){var e=this;this.axios.put("mock/role",this.form).then(function(t){1===t.code&&(e.resetForm(),e.$message({showClose:!0,message:"修改成功",type:"success",duration:2e3}),e.loading=!1,e.$parent.list.splice(e.$parent.index,1,t.data))},function(t){e.loading=!1})},close:function(){this.resetForm()},cancel:function(){this.resetForm()},resetForm:function(){this.dialogVisible=!1,this.form={name:"",dept:{id:"",name:""},level:1,remark:""}}}},a=(o("1d22"),o("2877")),l=Object(a.a)(i,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.dialogVisible,title:e.isAdd?"新增角色":"编辑角色","before-close":e.close,"append-to-body":"",width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"80px"}},[o("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[o("el-input",{staticStyle:{width:"370px"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"所属部门"}},[o("el-select",{staticStyle:{width:"370px"},attrs:{placeholder:"请选择所属部门"},model:{value:e.form.dept.id,callback:function(t){e.$set(e.form.dept,"id",t)},expression:"form.dept.id"}},e._l(e.deptDict,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),o("el-form-item",{attrs:{label:"角色级别",prop:"level"}},[o("el-input-number",{staticStyle:{width:"370px"},attrs:{min:1,max:100,"controls-position":"right"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",e._n(t))},expression:"form.level"}})],1),o("el-form-item",{attrs:{label:"描述信息",prop:"remark"}},[o("el-input",{staticStyle:{width:"370px"},attrs:{rows:"5",type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("取消")]),o("el-button",{attrs:{loading:e.loading,size:"small",type:"primary"},on:{click:e.doSubmit}},[e._v("确认")])],1)],1)},[],!1,null,"3533b69c",null);t.default=l.exports},"5cd6":function(e,t,o){}}]);